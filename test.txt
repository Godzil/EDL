# EDL CPU Specification
#
# # starts a comment which continues to the end of the line
#

# DECLARE is used to create variables (used to be REGISTER - but that was a bit specific)

DECLARE A[8];
DECLARE B[8];
DECLARE C[8];
DECLARE D[8];
DECLARE E[8];
DECLARE F[8];	# ALIAS s[1]:z[1]:b5[1]:h[1]:b3[1]:pv[1]:n[1]:c[1]
DECLARE	H[8];
DECLARE	L[8];
DECLARE IX[16];
DECLARE IY[16];
DECLARE	I[8];
DECLARE	R[8];	# ALIAS 0:Refresh[7]
DECLARE IFF1[1];
DECLARE IFF2[1];
DECLARE IM[2];

DECLARE	IR[8];	#internal instruction register - used to hold current instruction being executed

#INSTRUCTION	"NOP"	%00000000
#{
#FETCH.T4@
#	{
#		# do nothing
#	}
#}

HANDLER	CLOCK
{
	STATES	FETCH,READMEM,WRITEMEM,READIO,WRITEIO;		# start of a block, define the states.. order of definition is order of flow

#	FETCH@
#	{
#		STATES	T1,T2,T3,T4;		# order of definition is order of flow
#
#		T1@
#		{
#			# nothing to do -- real hardware would output M1 here
#		}
#		T2@
#		{
#			# need ram fetch
#		}
#		T3@
#		{
#			# instruction decode
#		}
#		T4@
#		{
#			# dependant on function
#		}
#	}
}

